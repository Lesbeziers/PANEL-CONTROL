<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel de control M+ - MonthBlockGrid</title>
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body>
    <main id="app"></main>

    <script>
      const headers = ["LISTO", "TIPO", "TÍTULO", "INICIO VIG", "FIN VIG", "GÉNERO", "ID"];
      const rows = [
        {
          group: true,
          cells: ["+", "", "PROMO 20", "MÁXIMO 5 SIMULTÁNEAS", "", "", "", ""],
        },
        ...Array.from({ length: 9 }, () => ({
          group: false,
          cells: ["-", "", "", "", "", "", "", ""],
        })),
      ];

      function renderMonthBlockGrid(root) {
        root.innerHTML = `
          <section class="month-block" aria-label="MonthBlockGrid Febrero 2026">
            <div class="month-block__header">
              <div class="left-header" id="left-header"></div>
              <div class="right-header-scroll" id="right-header-scroll">
                <div class="right-header-track" id="right-header-track"></div>
              </div>
            </div>
            <div class="month-block__body">
              <div class="month-block__body-grid">
                <div class="left-grid" id="left-body"></div>
                <div class="right-body-scroll" id="right-body-scroll">
                  <div id="right-body"></div>
                </div>
              </div>
            </div>
          </section>
        `;

        const leftHeader = root.querySelector("#left-header");
        headers.forEach((label) => {
          const cell = document.createElement("div");
          cell.textContent = label;
          leftHeader.appendChild(cell);
        });

        const dayHeader = root.querySelector("#right-header-track");
        for (let day = 1; day <= 31; day++) {
          const cell = document.createElement("div");
          cell.className = `day-cell ${day > 28 ? "inactive" : ""}`;
          cell.textContent = day;
          dayHeader.appendChild(cell);
        }

        const leftBody = root.querySelector("#left-body");
        const rightBody = root.querySelector("#right-body");

        rows.forEach((row) => {
          const leftRow = document.createElement("div");
          leftRow.className = `left-row ${row.group ? "group" : ""}`;

          row.cells.forEach((text, i) => {
            const cell = document.createElement("div");
            if (i === 0) {
              cell.classList.add("gutter");
              if (row.group) {
                cell.innerHTML = `
                  <button class="gutter-icon-btn" aria-label="Añadir fila">+</button>
                  <button class="gutter-icon-btn" aria-label="Eliminar fila">−</button>
                `;
              }
            } else {
              cell.textContent = text;
            }
            leftRow.appendChild(cell);
          });

          const dayRow = document.createElement("div");
          dayRow.className = `day-row ${row.group ? "group" : ""}`;
          for (let day = 1; day <= 31; day++) {
            const dayCell = document.createElement("div");
            dayCell.className = `day-cell ${day > 28 ? "inactive" : ""}`;
            dayRow.appendChild(dayCell);
          }

          leftBody.appendChild(leftRow);
          rightBody.appendChild(dayRow);
        });
      }

      renderMonthBlockGrid(document.getElementById("app"));
    </script>
  </body>
</html>
